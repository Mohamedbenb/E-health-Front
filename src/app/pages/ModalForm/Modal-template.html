<nb-card *ngIf="action === 'edit'||action === 'add' else delete">
    <nb-card-header>Fill the form please</nb-card-header>
<nb-card-body>
    <form  #modalForm="ngForm" (ngSubmit)="onSubmit()" aria-labelledby="title">
        <div class="form-control-group">
            <label class="label" for="firstname">First name:</label>
            <input  fullWidth 
                    id="firstname"  
                    [(ngModel)]="formData.firstname" 
                    #firstname="ngModel" 
                    name="first_name" 
                    type="text" 
                    nbInput  
                    placeholder="First Name" 
                    [minlength]="1"
                    [required]="true"
                    [attr.aria-invalid]="firstname.invalid && firstname.touched ? true : null">
                   
                    <ng-container *ngIf=" firstname.invalid && firstname.touched ">
                      <p class="caption status-danger" >
                          First name is required.
                      </p>
                    </ng-container>

        </div>
          <div class="form-control-group">
            <label class="label" for="lastname">Last name:</label>
            <input fullWidth
                    id="lastname"  
                    [(ngModel)]="formData.lastname" 
                    #lastname="ngModel" 
                    name="last_name" 
                    type="text" nbInput  
                    placeholder="Last Name" 
                    [minlength]="1"
                    [required]="true"
                    [attr.aria-invalid]="lastname.invalid && lastname.touched? true : null">
                    <ng-container *ngIf="lastname.invalid && lastname.touched ">
                      <p class="caption status-danger" >
                          Last name is required.
                      </p>
                    </ng-container>

        </div>
          <div class="form-control-group">
            <label  class="label" for="matricule">Matricule:</label>
            <input fullWidth 
                    id="matricule"  
                    [(ngModel)]="formData.matricule" 
                    #matricule="ngModel" 
                    name="matricule" 
                    type="text" nbInput  
                    placeholder="Matricule" 
                    [minlength]="5"
                    [status]="matricule.dirty ? (matricule.invalid  ? 'danger' : 'success') : 'basic'"
                    [required]="true"
                    [attr.aria-invalid]="matricule.invalid && matricule.touched ? true : null">
            <ng-container *ngIf="matricule.invalid && matricule.touched ">
                <p class="caption status-danger" >
                    Matricule should not be less than 5 characters
                </p>

            </ng-container>
        </div>
          <div class="form-control-group">
            <label class="label" for="email">Email address:</label>
            <input id="email" 
                    fullWidth  
                    [(ngModel)]="formData.email" 
                    #email="ngModel" 
                    name="email" 
                    type="text" 
                    nbInput  
                    placeholder="email"
                    autofocus 
                    pattern=".+@.+\..+" 
                    [status]="email.dirty ? (email.invalid  ? 'danger' : 'success') : 'basic'" 
                    [required]="true" 
                    [attr.aria-invalid]="email.invalid.errors && email.touched? true : null">
            <ng-container *ngIf="email.errors?.pattern && email.touched">
                <p class="caption status-danger"   >
                  Please enter a valid Email.
                </p>
 
              </ng-container>
          </div>
          
          <div class="form-control-group">
            <label class="label" for="age">Date de naissance:</label>
            <input fullWidth 
                    id="datenai"

                    name="datenai" 
                    [(ngModel)]="formData.datenai" 
                    nbInput  
                    [nbDatepicker]="datenai"
                    placeholder="Date de naissance" 
                    [required]="true"
                    >
                    <nb-datepicker #datenai></nb-datepicker>
        </div>
        <div class="form-control-group">
          <label class="label" for="age">Date d'embauche:</label>
          <input fullWidth 
                  id="daterecru"

                  name="daterecru" 
                  [(ngModel)]="formData.daterecru" 
                  nbInput  
                  [nbDatepicker]="daterecru"
                  placeholder="Date de naissance" 
                  [required]="true"
                  >
                  <nb-datepicker #daterecru></nb-datepicker>
      </div>
        
        <br>
        <div class="buttons-container">
            <button class="cancel" nbButton status="danger" (click)="onCancel()">Cancel</button>
            <button  nbButton [disabled]="submitted || !modalForm.valid" status="success"   [class.btn-pulse]="submitted"> Submit</button>
        </div>
    
    </form>
  </nb-card-body>
</nb-card>
    <ng-template #delete >
      <nb-card>
      <nb-card-header>Are you sure you want to delete this Item?</nb-card-header>
      <nb-card-body>
      <form #modalForm="ngForm" (ngSubmit)="onDelete()" aria-labelledby="title">
        <div class="buttons-container">
          <button class="cancel"   status="success"  nbButton (click)="onCancel()">Cancel</button>
          <button  nbButton status="danger" type="submit"> delete</button>
        </div>
      </form>
    </nb-card-body>
  </nb-card>
</ng-template>




    
